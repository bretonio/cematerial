jQuery(function(a){var b=a(document);CEMaterial.init(b),b.on("DOMNodeInserted",function(b){CEMaterial.init(a(b.target))})}),jQuery(function(a){var b=a(document),c=a("body"),d=c;d.on("focus","[data-class-focus]",function(){CEMaterial.bindClassEvent(a(this),"focus")}).on("blur","[data-class-focus]",function(){CEMaterial.unbindClassEvent(a(this),"focus")}).on("mouseenter","[data-class-hover]",function(){CEMaterial.bindClassEvent(a(this),"hover")}).on("mouseleave","[data-class-focus]",function(){CEMaterial.unbindClassEvent(a(this),"hover")});var e='input:not([type="radio"]):not([type="checkbox"]):not([type="button"]), select, textarea';d.on("focus",e,function(){CEMaterial.onFocus(a(this))}).on("blur",e,function(){CEMaterial.onBlur(a(this))}),d.on("click",".waves",function(b){var c=a(this),d=c.find(".waves-box");d.length||(d=a('<div class="waves-box"><span></span></div>').appendTo(c));var e=a("<span></span>");d.find("span").replaceWith(e);var f=2*Math.sqrt(Math.pow(c.outerWidth(),2)+Math.pow(c.outerHeight(),2)),g=c.offset();return e.css({left:b.pageX-g.left,top:b.pageY-g.top,height:f,width:f,opacity:.4}).on("transitionend",function(){.4==a(this).css("opacity")&&e.css("opacity",0)}),!0}),d.on("input",".input-autogrow",function(){var b=a(this);CEMaterial.inputAutoGrow(b)}),d.on("drag dragstart dragend dragover dragenter dragleave drop",".filedrop",function(a){a.preventDefault(),a.stopPropagation()}).on("dragover dragenter",".filedrop",function(){a(this).addClass("filedrop-dragover")}).on("dragleave drop",".filedrop",function(){a(this).removeClass("filedrop-dragover")}).on("drop",".filedrop",function(b){b.preventDefault();var c=a(this),d=c.find('input[type="file"]'),e=b.originalEvent.dataTransfer.files||[];(d.attr("accept")||"").split(",");d.prop("files",e)}).on("change",'.filedrop input[type="file"]',function(b){var c=a(this),d=c.closest(".filedrop"),e=b.target.files;if(d.find("img, .filedrop-list").remove(),e&&e.length){var f=a('<div class="filedrop-list"></div>').prependTo(d);for(var g in e){if(isNaN(g))break;var h=new FileReader;h.onload=function(a){f.append('<img class="img-fluid" src="'+a.target.result+'"/>')},h.readAsDataURL(e[g])}}}),d.on("click",".menu li a",function(b){var c=a(this),d=c.closest("li").find("> ul");d.length&&(c.data("toggle")||(c.attr("data-toggle","menu").data("target",d),a(".menu-visible").not(c.parents(".menu-visible")).not(d).removeClass("menu-visible"),d.toggleClass("menu-visible"),b.stopPropagation()))}),d.on("click",".dialog-visible",function(b){var c=a(this),d=a(b.target);c.is(d)&&c.removeClass("dialog-visible")}),d.on("click","[data-toggle]",function(b){var c=a(this),d=c.data("toggle").trim(),e=CEMaterial.getTarget(c);switch(d){case"sidebar":e.toggleClass("sidebar-visible"),b.stopPropagation();break;case"menu":a(".menu-visible").not(c.parents(".menu-visible")).not(e).removeClass("menu-visible"),e.toggleClass("menu-visible"),b.stopPropagation();break;case"dialog":e=e.length?e:c.closest(".dialog"),e.toggleClass("dialog-visible"),c.data("focus")&&e.one("transitionend",function(){e.find(c.data("focus")).focus()}),b.stopPropagation();break;case"table":var f=c.prop("checked");e=e.length?e:c.closest("table"),e.find('input[type="checkbox"]').prop("checked",f),b.stopPropagation()}}),b.on("click",function(b){var c=a(b.target);a(".sidebar-visible").not(c.closest(".sidebar-visible")).removeClass("sidebar-visible"),a(".menu-visible").not(c.closest(".menu-visible")).removeClass("menu-visible")})});var CEMaterial={init:function(a){CEMaterial.onBlur(a.find(".label-float .input").not(":button").filter(function(){return this.value})),CEMaterial.inputAutoGrow(a.find(".input-autogrow"))},getTarget:function(a){return a.data("target")?$(a.data("target")):a.attr("href")?$(a.attr("href")):new jQuery},getLabels:function(a){var b=a.closest("label,.label"),c=a.attr("id");return c&&(b=b.add($('label[for="'+c+'"]'))),b},onFocus:function(a){a.length&&a.each(function(){var a=$(this),b=CEMaterial.getLabels(a);b.addClass("label-active label-focus")})},onBlur:function(a){a.length&&a.each(function(){var a=$(this),b=CEMaterial.getLabels(a).removeClass("label-focus"),c=a.val()||"",d=c instanceof Array?c.length:c.trim();b.toggleClass("label-active",!!d)})},bindClassEvent:function(a,b){var c=a.data("class-"+b);a.hasClass(c)||(a.data(b+"-remove",c),a.addClass(c))},unbindClassEvent:function(a,b){a.removeClass(a.data(b+"-remove"))},inputAutoGrow:function(a){a.each(function(){var a=$(this);a.is("textarea")?(this.style.height="",this.style.height=this.scrollHeight+"px"):a.is("input")&&a.val()&&a.prop("size",a.val().length)})}};
